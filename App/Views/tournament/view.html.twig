{% extends layout %}

{% block body %}
<div id="content">
    <h1>{{tournament.name}}</h1>

<legend>{% trans %}pool list{% endtrans %}</legend>

{% for group in groupList %}
    Groupe {{group.pool}}<br/>
    <table>
        <tr>
            <th></th>
            <th>{% trans %}team{% endtrans %}</th>
            <th>{% trans %}played{% endtrans %}</th>
            <th>{% trans %}win{% endtrans %}</th>
            <th>{% trans %}draw{% endtrans %}</th>
            <th>{% trans %}lost{% endtrans %}</th>
            <th>{% trans %}gf{% endtrans %}</th>
            <th>{% trans %}ga{% endtrans %}</th>
            <th>{% trans %}gav{% endtrans %}</th>
            <th>{% trans %}pts{% endtrans %}</th>
        </tr>
	{% for team in teamsList %}
	    {% if team.pool == group.pool %}
                <tr>
                    <td>{{team.ranking}}</td>
                    <td>{{team.countries.nameFr}}</td>
                    <td>{{team.played}}</td>
                    <td>{{team.win}}</td>
                    <td>{{team.draw}}</td>
                    <td>{{team.lost}}</td>
                    <td>{{team.gf}}</td>
                    <td>{{team.ga}}</td>
                    <td>{{team.gav}}</td>
                    <td>{{team.pts}}</td>
                </tr>
	    {% endif %}
	{% endfor %}
    </table>
{% endfor %}
   
<legend>{% trans %}ranking{% endtrans %}</legend>
{% for player in tournament.players %}
    {% if player.isaccepted == true %}
        {{player.idplayers.username}} - {{player.idplayers.firstname}} - {{player.idplayers.lastname}} 
        {% if currentUserAdmin == true %}
            {% if player.isadmin == true %}
                <a href="{{path('tournament.removeAdmin', { idTournPlayers : player.idtournplayers} )}}">{% trans %}removeAdmin{% endtrans %}</a>
            {% else %}
                <a href="{{path('tournament.setAdmin', { idTournPlayers : player.idtournplayers} )}}">{% trans %}setAdmin{% endtrans %}</a>
            {% endif %}
            <a href="{{path('tournament.remove', { idTournPlayers : player.idtournplayers} )}}">{% trans %}remove{% endtrans %}</a>
        {% endif %}
        <br/>
    {% endif %}
{% endfor %}

<legend>{% trans %}add asking{% endtrans %}</legend>
{% for player in tournament.players %}
    {% if player.isaccepted == false %}
        {{player.idplayers.username}} - {{player.idplayers.firstname}} - {{player.idplayers.lastname}} 
        {% if currentUserAdmin == true %}
            <a href="{{path('tournament.accept', { idTournPlayers : player.idtournplayers} )}}">{% trans %}accept{% endtrans %}</a>
        {% endif %}
        <br/>
    {% endif %}
{% endfor %}

<legend>{% trans %} invite player {% endtrans %}</legend>
{{ render(url('tournament.invite', { idTournament : tournament.idtournament}))}}

</div>
{% endblock %}
